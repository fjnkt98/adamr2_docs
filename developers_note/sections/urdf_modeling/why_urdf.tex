\documentclass[{../../master}]{subfiles}
\graphicspath{{../..}}  % 個別コンパイル時の画像パスを解決する

\begin{document}

\section{何故URDFを書くのか？}

ROSの教本やチュートリアルでよく紹介されているURDFですが，実のところURDFを書かなくてもロボットの実機を動かすシステムを構築することができます．
URDFが提供するのは，ロボット座標系におけるセンサやアクチュエータ等の位置関係を示す座標変換であり，これはTFパッケージを用いることでも実現できるものです．
言い換えれば，TFを直接発行してロボットの各コンポーネントの座標変換を提供することができればURDFを記述する必要は無いという事です．

では，URDFを記述する理由はあるのでしょうか？
これはあくまで筆者の考えですが，以下のような利点があると考えます．

\begin{enumerate}
  \item ロボットの各コンポーネントの位置関係を一括で管理することができる
  \item ロボットの詳細な構造を可視化することができる
  \item 実機と同じモデルでシミュレーションを行うことができる
\end{enumerate}

URDFを記述することの大きな利点の1つとして，ロボットのモデルの可視化を行うことができるという点があると考えます．
リンクやジョイントの座標変換を提供するだけならTFパッケージを使うことで実現できるのですが，その場合モデルの可視化を行うことができません．
そのため，入力した数値が正しいのかどうかを検証するのが困難になります．
例えば，ロボットのハードウェアの設計を変更して，センサの位置が代わってしまったという場合を考えます．
TFパッケージとURDFのどちらを使う場合でも，新しいセンサの位置を3D CADの設計データから計算して数値を導出するのは同じですが，
TFパッケージを使う場合は可視化の手段が乏しいため，その数値が正しいかどうかを検証することが難しくなります．
一方でURDFを使う場合は，URDFファイルを編集\footnote{実際は\textsf{xacro}で記述した後にURDFをエクスポートすることが多いので，直接URDFファイルを編集することはありません．}し，
更新したモデルを\textsf{rviz}で可視化することで，センサの位置が正しい位置にいるのかどうかを目で確かめることができます．

また，副産物的な考え方ですが，実機用のURDFファイルにシミュレーションのためのオプションを追記することで，ロボットのシミュレーション環境を簡単に整えることが可能になります．
\textsf{ros\_control}\footnote{\url{http://wiki.ros.org/ros_control}}のフレームワークと合わせることで実機とシミュレーションで同一のコントローラを使ってロボットを動かすことができるため，SLAMやNavigation等のアプリケーションの開発を効率よく進められるようになります．

以上の理由から，ここではURDFを記述してロボットのモデリングを行うことを強く推奨します．
次の小節移行から，ADAMR2で実際に使用している\textsf{xacro}ファイルをもとに，URDFによるロボットの実践的なモデリングについて解説します．

\end{document}